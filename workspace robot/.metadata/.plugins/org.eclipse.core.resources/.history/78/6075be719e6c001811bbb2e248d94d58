package de.fynn.training.controlled;

import java.io.BufferedReader;
import java.io.File;
import java.io.IOException;
import java.io.InputStreamReader;
import java.time.LocalTime;
import java.util.Calendar;
import java.util.Scanner;

public class SmallTalkKI  {
    static boolean var = false;
    static boolean var2 = false;
   public static Scanner scan = new Scanner(System.in);
	public static void main(String[] args) throws IOException{
		
		InputStreamReader isr = new InputStreamReader(System.in);
		BufferedReader br = new BufferedReader(isr);
		/* Introduction
		 * - what's ur name? 
		 * - favourite sound 
		 * - language
		 * personal questions to personaldata.txt
		 * 
		 */
		if(var2 == false ) { // && personaldata.txt doesnt exist
			//create personaldata.txt
			System.out.println("What is your name?");
			String inputintro = br.readLine();
			if(!inputintro.equals("My name is " + ""))
		
		if(new File("D:\\Dev Projects\\Robot\\workspace robot\\Robot\\TextFiles\\personaldata.txt").isFile()) {
		var2 = true;
	}
		//String name = ""; //get name out of personaldata.txt
		if(var2 == true) {
		do{  
			//SmallTalk
			System.out.print("Sag etwas zu James:");
	        String input = br.readLine();
	     if(input.equalsIgnoreCase("hi")) { 
			System.out.println("Hallo wie geht es dir?"); 
			var = false;
			input= br.readLine();
		     if(input.equalsIgnoreCase("Gut")) {
		    	System.out.println("Das gefällt mir");
		     }else if(input.equalsIgnoreCase("schlecht")) {
		    	System.out.println("Schade! Was bedrückt dich denn ?");
		    	System.out.print("Sag etwas zu James:");
		    	input = br.readLine();
		         if(input.equals("var")) {
		        	 System.out.println("var");
		        	
		         
		       
		         }   
				  
		     }
	     }
	     // ask for the time
	     else if (input.equals("Wie spät ist es?")) {
	    	 System.out.println("Es ist " + Clock.getTime() +" Uhr!");
	    	 // alarmclock
	     } else if(input.equals("Stelle Wecker")) {
	    	  System.out.println("Wie spät?");
	    	AlarmClock.alarm(scan.nextLine());
	    	System.out.println("Wecker wurde gestellt!");
	    	  
	    	//Timer
	     } else if(input.equals("Stelle Timer")) {
	    	 System.out.println("Wie lange?");
	    	 String text = Timer.scan.nextLine();
	    	 Scanner s = new Scanner(text);
	    	 int time = s.nextInt();
	    	 Calendar c = Calendar.getInstance();
	    	 int hours = LocalTime.now().getHour() ;
	    	 int minutes = LocalTime.now().getMinute() ;
	    	 int secs = LocalTime.now().getSecond();
	    	

	    	 
             // Seconds
	    	 if(text.contains(Timer.seconds) || text.contains(Timer.second)) {
	    			
	    			int h = LocalTime.now().getHour();
	    			int m = LocalTime.now().getMinute();
	    			int sec = LocalTime.now().getSecond();
	    			int d = c.get(Calendar.DAY_OF_MONTH);
	    			int mm = c.get(Calendar.MONTH);
	    			int y = c.get(Calendar.YEAR);
	    			secs = sec + time;
	    			
	    			if(secs >= 60){
	    				m ++;
	    			    secs = secs - 60;
	    				
	    			}if(m >= 60) {
	    				h ++;
	    				m = m - 60;
	    			}
	               
	    			String timeall = y + ":" + mm + ":" + d + ":" + h + ":" + m + ":" + secs;
	    			System.out.println("Timer beginnt...");
	    			Timer.alarm(timeall);
		    		}
	    	 

	    	 
	    	 // Minutes
	    	 
	    	 if(text.contains(Timer.minutes) || text.contains(Timer.minute)) {
	    			int h = LocalTime.now().getHour();
	    			int m = LocalTime.now().getMinute();
	    			int sec = LocalTime.now().getSecond();
	    			int d = c.get(Calendar.DAY_OF_MONTH);
	    			int mm = c.get(Calendar.MONTH);
	    			int y = c.get(Calendar.YEAR);
	    			minutes = m + time;
	    			
	    			if(minutes >= 60){
	    				h ++;
	    			    minutes = minutes - 60;	
	    			}
	    			if(h >= 60) {
	    				d++;
	    				h = h - 60;
	    			}
	               
	    			String timeall = y + ":" + mm + ":" + d + ":" + h + ":" + minutes + ":" + sec;
	    			System.out.println("Timer beginnt...");
	    			Timer.alarm(timeall);
		    		
	    	 }
	    	 //hours
	        if(text.contains(Timer.hours) || text.contains(Timer.hour)) {
	        	int h = LocalTime.now().getHour();
    			int m = LocalTime.now().getMinute();
    			int sec = LocalTime.now().getSecond();
    			int d = c.get(Calendar.DAY_OF_MONTH);
    			int mm = c.get(Calendar.MONTH);
    			int y = c.get(Calendar.YEAR);
    			hours = h + time;
    			
    			if(hours >= 60){
    				d ++;
    			    hours = hours - 60;
    				
    			}
               
    			String timeall = y + ":" + mm + ":" + d + ":" + hours + ":" + m + ":" + sec;
    			System.out.println("Timer beginnt...");
    			Timer.alarm(timeall);
	    				 
	         		
	     }
	        s.close();
	     }
	    	
	     
	    	 else{
	    	 System.out.println("Wie bitte? Kannst du das bitte nocheinmal wiederholen?");
	     } 
	     }
	while(var == false);
		}
	}
	}
}



